<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTML LIST - 제출서류 확인 서비스</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { padding: 2rem 1rem; }
.top-area { display: flex; align-items: center; justify-content: space-between; padding: 0 0 10px; font-size: 12px; }
.controls { display: flex; align-items: center; gap: 10px; }
select, input, button { height: 34px; line-height: 34px; padding: 0 10px; font-size: 12px; border: 1px solid #111; outline: none; }
select, button { cursor: pointer; }
.resultBox { margin-left: 20px;}
table { width: 100%; border-collapse: collapse; border-top: 3px solid #102C47; }
table th, table td { border: 1px solid #ddd; padding: 8px; font-size: 12px; line-height: 2em; }
tr:hover td { background: #f3f3f3; }
.no, .pageId, .btnLink, .end { text-align: center; }
.end, .edit { vertical-align: top; }
.btnLink a { display: inline-block; width: auto; padding: 0px 10px; background: #303e49; text-align: center; color: #fff; text-decoration: none; font-weight: normal !important; }
a { display: inline-block; color: #111; }
a:hover { font-weight: bold; }
tr.divide td { border-top-width: 3px; }
.hide { display: none; }
.noData td { padding: 50px 0; text-align: center; }
.textRed { color: red; }
</style>
</head>
<body>
	<div class="top-area">
		<h1>HTML LIST - [Mobile] 제출서류 확인 서비스</h1>
		<div class="controls">
			<select>
				<option value="end">완료일</option>
				<option value="edit">수정일</option>
				<option value="pageId">page ID</option>
			</select>
			<input type="text" placeholder="검색어 입력">
			<button type="button">검색</button>

			<div class="resultBox">
				진척률 : <span id="pageOfProgress"></span> ( <span id="rateOfProgress"></span>% )
			</div>
		</div>
	</div>

	<table>
		<colgroup>
			<col style="width: 40px">
			<col style="width: 10%">
			<col style="width: 15%">
			<col style="width: 15%">
			<col style="width: 160px">
			<col style="width: 80px">
			<col style="width: 120px">
			<col>
			<col style="width: 10%">
		</colgroup>
		<thead>
			<tr>
				<th scope="col">No.</th>
				<th scope="col">1 depth</th>
				<th scope="col">2 depth</th>
				<th scope="col">3 depth</th>
				<th scope="col">page ID</th>
				<th scope="col">새창</th>
				<th scope="col">완료일</th>
				<th scope="col">수정 내용</th>
				<th scope="col">비고</th>
			</tr>
		</thead>
		<tbody class="countList">
			<tr class="noData hide">
				<td colspan="9">검색 결과가 없습니다.<br><br><br><button type="button">전체 목록 보기</button></td>
			</tr>
			<tr class="divide">
				<td class="no"></td><!-- 번호 -->
				<td>서류제출 현황 (메인)</td><!-- 1depth -->
				<td></td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT1000.html" target="mainFrame"></a></td>
				<td class="end">11/06<br>10/29<br>10/28</td><!-- 퍼블완료 -->
				<td class="edit">[11/06] 인증 상태 요약정보 추가<br>[10/29] 알림,공지 아이콘 위치 변경</td><!-- 수정 -->
				<td class="info">페이지2</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>[팝업] 수험번호 인증</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT1200.html" target="mainFrame"></a></td>
				<td class="end">10/29<br>10/28</td><!-- 퍼블완료 -->
				<td class="edit">[10/29] 페이지 > 팝업으로 변경<br>[10/29] 알림,공지 아이콘 삭제</td><!-- 수정 -->
				<td class="info">팝업</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>제출서류보기</td><!-- 2depth -->
				<td>(제출대기, 제출준비일 경우)</td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT1100.html" target="mainFrame"></a></td>
				<td class="end">10/30</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지3</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td></td><!-- 2depth -->
				<td>(제출 서류 제외하기 모드일 경우)</td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT1101.html" target="mainFrame"></a></td>
				<td class="end">10/30</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지3</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td></td><!-- 2depth -->
				<td>(제출완료일 경우)</td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT1102.html" target="mainFrame"></a></td>
				<td class="end">10/30</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지3</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>[팝업] 모바일 정부 24 안내</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT4000.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">팝업</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>[팝업] 확인증 상세</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT5000.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">팝업</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>[팝업] 전자증명서 발급 신청</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT6000.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">팝업</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>[팝업] 파일 업로드</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT7000.html" target="mainFrame"></a></td>
				<td class="end"><b>11/17</b></td><!-- 퍼블완료 -->
				<td class="edit"><b>[11/17] 문구 수정, 스타일 override 작업</b></td><!-- 수정 -->
				<td class="info">팝업</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>서류 제출</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT8000.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지3</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td>만족도 평가</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT8100.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지3</td><!-- 비고 -->
			</tr>

			<tr class="divide">
				<td class="no"></td><!-- 번호 -->
				<td>전자 문서 지갑</td><!-- 1depth -->
				<td>신청</td><!-- 2depth -->
				<td></td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT2000.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지2</td><!-- 비고 -->
			</tr>
			<tr>
				<td class="no"></td><!-- 번호 -->
				<td></td><!-- 1depth -->
				<td></td><!-- 2depth -->
				<td>발급 완료</td><!-- 3depth -->
				<td class="pageId"><a href="../page/MOBSSDDCMNT2100.html" target="mainFrame"></a></td>
				<td class="end">10/31</td><!-- 퍼블완료 -->
				<td class="edit"></td><!-- 수정 -->
				<td class="info">페이지2</td><!-- 비고 -->
			</tr>
		</tbody>
	</table>

	<script>
		const list = document.querySelector(".countList");
		const noCountList = document.querySelector(".noCountList");
		let countPage = 0;
		let rowIndex = 0;

		// 테이블 초기화
		for (let i = 0; i < list.rows.length; i++) {
			const row = list.rows[i];
			const numberCell = row.querySelector(".no");
			const link = row.querySelector(".pageId a");
			const complete = row.cells[5]?.innerText.trim();

			if (numberCell) {
				rowIndex++;
				numberCell.innerText = rowIndex;
			}

			if (link) {
				const href = link.getAttribute("href");
				let fileName = href.split("/").pop();
				fileName = fileName.replace(/\.html$/, "");
				link.innerText = fileName;
			}


			if (complete) { countPage++; }
		}

		// 진행률 표시
		const pageAllNum = rowIndex;
		const pageProgressNum = countPage;
		document.getElementById("pageOfProgress").innerText = pageProgressNum + " / " + pageAllNum;
		document.getElementById("rateOfProgress").innerText = Math.round((pageProgressNum / pageAllNum) * 100);

		// 검색 기능
		const controls = document.querySelector(".controls");
		const input = controls.querySelector("input");
		const button = controls.querySelector("button");
		const select = controls.querySelector("select");
		const noDataRow = document.querySelector(".noData");
		const rows = list.querySelectorAll("tr");

		const filterRows = () => {
			const searchGroup = select.value;
			const searchText = input.value.trim();
			let hasResult = false;

			rows.forEach(row => {
				if (row.classList.contains("noData")) return;
				const cell = row.querySelector(`td.${searchGroup}`);
				if (!cell) return;

				const cellText = cell.textContent;
				if (cellText.includes(searchText)) {
					row.classList.remove("hide");
					hasResult = true;
				} else {
					row.classList.add("hide");
				}
			});

			if (noDataRow) {
				noDataRow.classList.toggle("hide", hasResult);
				noCountList.classList.toggle("hide", !hasResult);
			}
		};

		button.addEventListener("click", filterRows);
		input.addEventListener("keydown", e => {
			if (e.key === "Enter") {
				e.preventDefault();
				button.click();
			}
		});

		// 전체 목록 보기
		if (noDataRow) {
			const resetBtn = noDataRow.querySelector("button");
			if (resetBtn) {
				resetBtn.addEventListener("click", () => {
					rows.forEach(row => row.classList.remove("hide"));
					noDataRow.classList.add("hide");
					noCountList.classList.remove("hide");
					input.value = "";
				});
			}
		}

		// 새창 열기 태그 추가
		const links = document.querySelectorAll(".pageId a");
		links.forEach(link => {
			const linkUrl = link.getAttribute("href");
			const pageId = link.closest(".pageId");
			pageId.insertAdjacentHTML(
				"afterend", `<td class="btnLink"><a href="${linkUrl}" target="_blank">새창</a></td>`
			);
		});
	</script>

</body>
</html>