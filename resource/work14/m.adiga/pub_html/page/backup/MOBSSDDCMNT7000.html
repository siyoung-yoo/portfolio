<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<!-- css -->
<link rel="stylesheet" href="../../static/css/jquery-ui.min.css" />
<link rel="stylesheet" href="../../static/css/swiper.css" />
<link rel="stylesheet" href="../../static/css/default.css" />
<link rel="stylesheet" href="../../static/css/common.css" />
<link rel="stylesheet" href="../../static/css/guide/common2.css" />
<link rel="stylesheet" href="../../static/css/sub.css" />
<link rel="stylesheet" href="../../static/css/main.css" />
<link rel="stylesheet" href="../../static/css/rMateChartH5.css" />
<link rel="stylesheet" href="../../static/css/ai.css" />
<link rel="stylesheet" href="../../static/css/sub05.css" /><!-- [2025 서류제출 시스템 구축] sub05.css 신규 파일 추가 -->
<!-- Jquery -->
<script type="text/javascript" src="../../static/js/jquery/jquery-3.7.0.min.js"></script>
<script type="text/javascript" src="../../static/js/jquery/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../static/js/jquery/jquery.blockUI.min.js"></script>
<script type="text/javascript" src="../../static/js/jquery/jquery.i18n.properties.min.js"></script>
<script type="text/javascript" src="../../static/js/comm/swiper.js"></script>
<script type="text/javascript" src="../../static/js/comm/common.js"></script>
<script type="text/javascript" src="../../static/js/comm/pub_ui.js"></script><!-- 퍼블 include 확인용 임시 스크립트 (개발 사용 X) -->

<!-- 현재 페이지에만 사용하는 스크립트 -->
<script>
	// 팝업 show/hide 를 위한 퍼블 페이지 확인용 스크립트
	$(document).on("click", "._fullPopup .btnWrap._CTA button, #btnPopupOpen", function() {
		fnOnEventToggle('#tempPopupId')
	})
</script>

<script type="text/javascript" src="../../static/js/comm/validation.js"></script>
<script type="text/javascript" src="../../raonk/raonkupload/js/raonkupload.js"></script>
<script type="text/javascript" src="../../static/js/comm/raonkFileUpload.js"></script>
</head>
<body>
	<div class="btnWrap" style="padding: 10vh 10%">
		<button type="button" class="btnConfirm" id="btnPopupOpen">팝업 열기</button>
	</div>


	<div id="tempPopupId">

		<!-- 팝업 START -->
		<div class="wrapper _fullPopup onEventNeed _on"> <!-- class - on : 팝업오픈 -->

			<div class="header">
				<div class="headerTitle">
					<h1>파일 업로드</h1>
				</div>
				<div class="headerUtil">
					<!-- <button type="button" class="btnHeaderFunc"><span class="hidden1">Function</span></button> Function Button -->
					<button type="button" class="btnHeaderClose menuHeader"><span class="hidden">닫기</span></button>
				</div>
			</div>

			<!-- 컨텐츠 영역 START -->
			<div class="container" id="bodyContent">
				<div class="contInner _hasCTA">
					<div class="section">
						<div class="fs14 fcTitle _mb24">아래에 요청된 문서를 PDF 형식으로 첨부해 주세요.</div>

						<div class="boxLineStyle _mb16">
							<p class="flexCenter">
								<span class="fs14 wordBreak">농어촌학생전형 학교장 확인서(학교서식)</span>
							</p>
						</div>

						<!-- 재제출일 경우 (p.flexCenter에 .redInfo) 추가 -->
						<div class="boxLineStyle _mb16">
							<p class="flexCenter redInfo">
								<span class="fs14 wordBreak">농어촌학생전형 학교장 확인서(학교서식)</span>
							</p>
						</div>

						<div id="component_holder">
							<script type="text/javascript">
								(function() {
									const uploaderId = 'dcmntFileUpload'

									var raonUploadkParam = {
										Id: uploaderId
										, InitServerXml: "../../raonk/raonkupload/handler/raonkhandler.jsp?f=raonkupload.config.xml"
										, Width: '100%'
										// , Height: '50px' [11/17] 높이 삭제
										, UploadHolder: "component_holder"
										, SimpleUIMode: {
											Use: '1',
											Mode: 'single',
											UserCssUrl: '../../static/css/customUpload.css'
										}
										, UseHtmlProcessByWorker: "0"

										// [11/17] pdf 파일만 업로드 가능
										, ExtensionAllowOrLimit: '1'
										, ExtensionArr: 'pdf'
									};

									window.upload = new RAONKUpload(raonUploadkParam);

									// default 상태 스타일 추가
									window.fn_customUploaderStyle = function(uploaderId) {
										const iframe = document.querySelector("#raonkuploader_frame_"+uploaderId);
										const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
										const $fileInfoArea = $(innerDoc).find(".file-info-area");
										const $btnAddFile = $(innerDoc).find(".file-btn-area a[id*=_fileAdd]");

										$(innerDoc).find(".kupload-simple-ui").addClass("customUploader");
										// [11/17] 아래 p.text 문구 수정
										$fileInfoArea.after('<p class="text">제출할 PDF 파일을 첨부해 주세요.</p>');
										$btnAddFile.text("파일찾기");
									};

									// 파일 추가 됐을때 스타일 추가
									window.fn_fileAddStyle = function(uploaderId) {
										const iframe = document.querySelector("#raonkuploader_frame_"+uploaderId);
										const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
										$(innerDoc).find(".kupload-simple-single-ui-area").addClass("has-file");
									};

									// 파일 삭제 됐을때 스타일 추가
									window.fn_fileDeleteStyle = function(uploaderId) {
										const iframe = document.querySelector("#raonkuploader_frame_"+uploaderId);
										const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
										$(innerDoc).find(".kupload-simple-single-ui-area").removeClass("has-file");
									};


									// 업로드 생성 후 처리내용
									window.RAONKUPLOAD_CreationComplete = function(uploaderId) {
										fn_customUploaderStyle(uploaderId);
									}

									// 파일 추가 후 처리할 내용
									window.RAONKUPLOAD_AfterAddFile = function(uploadID, paramObj) {
										fn_fileAddStyle(uploadID);
										$("#fileUploadBtn").prop("disabled", false);
									}

									// 파일 삭제 후 처리할 내용
									window.RAONKUPLOAD_AfterDeleteFile = function(uploadID, paramObj) {
										fn_fileDeleteStyle(uploadID);
										$("#fileUploadBtn").prop("disabled", true);
									}
								})();
							</script>
						</div>

					</div>

					<!-- 하단 고정 푸터 -->
					<div class="btnWrap _CTA">
						<button type="button" class="btnCancel"><span>취소</span></button>
						<button type="button" class="btnConfirm" disabled><span>업로드</span></button>
					</div>
				</div>
			</div>
			<!-- // 컨텐츠 영역 END -->

		</div>
		<!-- // 팝업 END -->

	</div>

</body>
</html>